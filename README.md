# Demetramed

## Описание проекта

Это frontend часть проекта по исследованию фотографий клеточных структур на наличие патологий с применением нейросетевого анализа.

Фрэймворк Quasar был выбран потому что он предоставляем библиотеку сложных настраиваемых компонентов использование которых сократит время разработки.

## Запуск проекта

1. Установить LTS версию Node.js не ниже v20.16.0. https://nodejs.org/en/download/package-manager

2. Скачать файлы репозитория из ветки master

3. Установить зависимости проекта

```bash
npm install
```

4. Для просмотра проекта и внесения изменений запустить сервер разработки

```bash
npm run dev
```

5. Для сборки запустить команду

```bash
npm run build
```

## Особенности проекта

Проект имеет модульную архитектуру со следующими слоями:

1. layout - универсальная разметка для нескольких страниц, принимающая страницы как содержимое.
2. page - страница сайта на которую настроен роутинг содержит разметку для одного или нескольких модулей, но не содержит логику.
3. module - крупный самостоятельный элемент интерфейса, который содержит логику и имеет отдельное хранилище, данные которого используются в компонентах этого модуля.
4. component - небольшой элемент модуля, предназначенный для выполнения части его логики.
5. ui - универсальные элементы интерфейса, которые могут быть использованы в любом месте проекта. Бизнес логику не содержат, но возвращают наверх события на которые можно настроить выполнение бизнес логики. События и принимаемые параметры описаны в комментариях к каждому ui компоненту.

Все типы хранятся в папке types в файлах .dto.ts.

Для корректного отображения изображений в собранном проекте их надо сохранять в папке src/assets/img/, а пути к ним указывать через ~assets/img/...

## Deploy проекта

Production сборка проекта генерируется командой npm run build и сохраняется в папке dist/spa/.

Для работы интерфейса нужно разместить содержимое папки dist/spa/ в корневой директории сервера. После чего он станет доступен при введении доменного имени в браузере.

При размещении приложения не в корень сервера, нужно указать путь к директории, в которой оно располагается в файле quasar.config.js в переменной окружения publicPath и пересобрать проект.

При размещении приложения не на домене, на котором расположен сервер, нужно указать домен приложения в заголовке ответа 'access-control-allow-origin'
Инструкция для изменения заголовков для фреймворка Flask:
Установить в проект библиотеку flask-cors:

```bash
pip install flask-cors
```

Затем в вашем приложении Flask:

```python
from flask import Flask
from flask_cors import CORS

app = Flask(__name__)

# Настройка CORS для определенного домена

CORS(app, resources={r"/api/\*": {"origins": "https://domain-name.com"}})

@app.route('/api')
def hello_world():
  return {'message': 'Hello, World!'}

if **name** == '**main**':
  app.run()
```

При смене домена сервера нужно указать его имя в файле .env в переменной окружения VITE_SERVER_URL и пересобрать проект.
